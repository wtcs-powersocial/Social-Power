<section>
    <app-menu></app-menu>
</section>

<div class="centralizador">
    <div class="mt-5">
        <div class="row">

            <div class="col-md-6 mb-6" *ngFor="let post of posts">
                <div class="card text-center">
                    <div class="card-body">
                        <div class="row">
                            <div class="col">
                                <p><strong class='main-color'>{{post.autorName}}</strong></p>
                            </div>
                            <div class="col">
                                <p class='float-right'><strong>{{post.dataDenuncia | date: 'dd/MM/yyyy'}}</strong></p>
                            </div>
                        </div>
                        <div class='card-img'>
                            <img [src]="post.img_denuncia" class="img-fluid" alt="imagem da denúncia">
                        </div>
                        <div class="card-body">
                            <p class="card-title"><strong>Categoria:</strong> {{post.categoria}}</p>
                            <p class="card-text"><strong>Denúncia:</strong> {{post.descricao}}</p>
                        </div>

                        <div class="card-footer text-muted">

                            <div class='float-right'>
                                <a class="btn btn-primary my-s" (click)='insertLikeOrDeslike(post._id, true)'>
                                    <i class="fa fa-thumbs-up fa-2x"></i><i>{{getLike(post)}}</i>
                                </a>
                                <a class="btn btn-danger my-s" (click)='insertLikeOrDeslike(post._id, false)'>
                                    <i class="fa fa-thumbs-down fa-2x"></i><i>{{getDeslike(post)}}</i>
                                </a>
                            </div>

                            <div class="input-group mb-3">
                                <input type="text" class="form-control" placeholder="Seu comentário">
                                <div class="input-group-append">
                                    <button class="btn btn-outline-info" type="button" (click)='setComentario(post._id);'>Comentar</button>
                                </div>
                            </div>

                            <div class="accordions">
                                <div class="accordion-item" *ngFor="let comentario of post.comentarios">
                                    <input type="checkbox" [id]="comentario.id_comentario" name="accordion" checked="checked" />
                                    <label [for]="comentario.id_comentario">{{comentario.nameUser}}</label>
                                    <div class="accordion-content">{{comentario.coment}}</div>
                                </div>
                            </div>

                        </div>

                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
